<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <!-- Configuration for the default package. -->
    <package name="default" extends="struts-default">
         <action name=""> 
            <result type="chain"> 
                <param name="actionName">index</param> 
                <param name="namespace">/index</param>
            </result> 
        </action>
    </package>
    
    <package name="index" namespace="/index" extends="struts-default">
        <action name="index">
            <result>/login.jsp</result>
        </action>
    </package>
    
    <package name="login" namespace="/login" extends="struts-default">
        
        <action name="login" class="actions.LoginAction">
            <result name="success" type="chain">
                <param name="actionName">loadStudentHome</param>
            </result>
            <result name="success_admin">/admin_home.jsp</result>
            <result name="success_alumno" type="chain">
                <param name="actionName">loadStudentHome</param>
            </result>
            <result name="input">/login.jsp</result>
            <result name="error">/login.jsp</result>            
        </action>
        
        <action name="loadStudentHome" class="actions.AlumnoActions">
            <result name="success">/student_home.jsp</result>
        </action>
        
        <!--
        TODO: El logout siempre da un input, asi que lo he reenvio al principio
        -->
        <action name="logout" class="actions.LoginAction" method="logout">
            <result name="success">/login.jsp</result>
            <result name="input" type="chain">
                <param name="actionName">index</param> 
                <param name="namespace">/index</param>
            </result>
            <result name="error">/error.jsp</result>            
        </action>
        
       <!-- <action name="admin_nav_students" class="AdminNavAction" method="goToStudents">
            <result name="success">/</result>
        </action> -->
        
    </package>
    
    <package name="asignatura" namespace="/asignaturas" extends="struts-default">
        
        <action name="loadAsignatura" class="actions.AsignaturaActions">
            <result name="success">/student_class.jsp</result>
        </action>
        
    </package>
    
    <package name="material" namespace="/materiales" extends="struts-default">
        
        <action name="loadMaterial" class="actions.MaterialActions">
            <result name="success">/student_material.jsp</result>
        </action>
        
    </package>
    
</struts>
